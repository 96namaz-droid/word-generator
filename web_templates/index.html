<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ—Ç—á—ë—Ç–æ–≤ –æ –ø–æ–∂–∞—Ä–Ω—ã—Ö –ª–µ—Å—Ç–Ω–∏—Ü–∞—Ö</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <header class="header">
            <h1>üìÑ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ—Ç—á—ë—Ç–æ–≤</h1>
            <p class="subtitle">–ü—Ä–æ—Ç–æ–∫–æ–ª—ã –∏—Å–ø—ã—Ç–∞–Ω–∏—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–∂–∞—Ä–Ω—ã—Ö –ª–µ—Å—Ç–Ω–∏—Ü</p>
        </header>

        <!-- –§–æ—Ä–º–∞ -->
        <form id="reportForm">
            <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
            <section class="card">
                <h2>–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
                
                <div class="form-group">
                    <label for="date">–î–∞—Ç–∞ <span class="required">*</span></label>
                    <input type="date" id="date" name="date" required>
                </div>

                <div class="form-group">
                    <label for="customer">–ó–∞–∫–∞–∑—á–∏–∫ <span class="required">*</span></label>
                    <div class="input-with-button">
                        <input type="text" id="customer" name="customer" list="customersList" required>
                        <datalist id="customersList"></datalist>
                        <button type="button" class="btn-icon" onclick="updateContracts()" title="–û–±–Ω–æ–≤–∏—Ç—å –±–∞–∑—É –¥–æ–≥–æ–≤–æ—Ä–æ–≤">
                            üîÑ
                        </button>
                    </div>
                </div>

                <div class="form-group">
                    <label for="objectAddress">–ê–¥—Ä–µ—Å/–Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –∏—Å–ø—ã—Ç—ã–≤–∞–µ–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ <span class="required">*</span></label>
                    <textarea id="objectAddress" name="objectAddress" rows="3" required></textarea>
                </div>
            </section>

            <!-- –ò—Å–ø—ã—Ç—ã–≤–∞–µ–º—ã–µ –ª–µ—Å—Ç–Ω–∏—Ü—ã -->
            <section class="card">
                <div class="section-header">
                    <h2>–ò—Å–ø—ã—Ç—ã–≤–∞–µ–º—ã–µ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –ª–µ—Å—Ç–Ω–∏—Ü—ã</h2>
                    <button type="button" class="btn btn-primary" onclick="addLadder()">‚ûï –î–æ–±–∞–≤–∏—Ç—å –ª–µ—Å—Ç–Ω–∏—Ü—É</button>
                </div>
                
                <div id="laddersContainer"></div>
            </section>

            <!-- –£—Å–ª–æ–≤–∏—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –∏—Å–ø—ã—Ç–∞–Ω–∏–π -->
            <section class="card">
                <h2>–£—Å–ª–æ–≤–∏—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –∏—Å–ø—ã—Ç–∞–Ω–∏–π</h2>
                
                <div class="form-group">
                    <label for="testTime">–í—Ä–µ–º—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è</label>
                    <select id="testTime" name="testTime">
                        <option value="–¥–Ω–µ–≤–Ω–æ–µ –≤—Ä–µ–º—è">–î–Ω–µ–≤–Ω–æ–µ –≤—Ä–µ–º—è</option>
                        <option value="–Ω–æ—á–Ω–æ–µ –≤—Ä–µ–º—è">–ù–æ—á–Ω–æ–µ –≤—Ä–µ–º—è</option>
                    </select>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="temperature">–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤–æ–∑–¥—É—Ö–∞ (¬∞C)</label>
                        <input type="number" step="0.1" id="temperature" name="temperature">
                    </div>

                    <div class="form-group">
                        <label for="windSpeed">–°–∫–æ—Ä–æ—Å—Ç—å –≤–µ—Ç—Ä–∞ (–º/—Å)</label>
                        <input type="number" step="0.1" id="windSpeed" name="windSpeed">
                    </div>
                </div>

                <button type="button" class="btn btn-secondary" onclick="updateWeather()">
                    üå§ –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é –ø–æ–≥–æ–¥—É (–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥)
                </button>
                <span id="weatherStatus" class="status-text"></span>
            </section>

            <!-- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–æ—Ä–º–∞–º -->
            <section class="card">
                <h2>–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–æ—Ä–º–∞–º</h2>
                <p class="info-text">‚ÑπÔ∏è –°–ø–∏—Å–æ–∫ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ª–µ—Å—Ç–Ω–∏—Ü</p>
                
                <div id="complianceContainer"></div>

                <div class="form-group mt-3">
                    <label class="checkbox-label">
                        <input type="checkbox" id="projectCompliant">
                        –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–æ–µ–∫—Ç—É
                    </label>
                </div>

                <div class="form-group" id="projectNumberGroup" style="display: none;">
                    <label for="projectNumber">–ù–æ–º–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞</label>
                    <input type="text" id="projectNumber" name="projectNumber">
                </div>
            </section>

            <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
            <section class="actions">
                <button type="submit" class="btn btn-success btn-large">
                    üìÑ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç
                </button>
                <button type="button" class="btn btn-secondary" onclick="clearForm()">
                    üóë –û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º—É
                </button>
            </section>
        </form>

        <!-- –°—Ç–∞—Ç—É—Å-–±–∞—Ä -->
        <footer class="status-bar">
            <span id="statusText">–ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ</span>
        </footer>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –æ—à–∏–±–æ–∫ -->
    <div id="errorModal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeErrorModal()">&times;</span>
            <h3>‚ùå –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏</h3>
            <ul id="errorList"></ul>
            <button class="btn btn-primary" onclick="closeErrorModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É—Å–ø–µ—Ö–∞ -->
    <div id="successModal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeSuccessModal()">&times;</span>
            <h3>‚úÖ –£—Å–ø–µ—à–Ω–æ!</h3>
            <p id="successMessage"></p>
            <div class="modal-actions">
                <a id="downloadLink" class="btn btn-success" download>üì• –°–∫–∞—á–∞—Ç—å –æ—Ç—á—ë—Ç</a>
                <button class="btn btn-secondary" onclick="closeSuccessModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>

