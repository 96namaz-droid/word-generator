# Настройка отправки email

## Как настроить отправку отчетов на почту

После генерации отчета файл автоматически:
1. Скачивается в папку загрузок браузера
2. Отправляется на email: 2728941@list.ru

## Настройка пароля для email

Для отправки email необходимо настроить пароль от почты через переменную окружения.

### Способ 1: Через PowerShell (Windows)

Откройте PowerShell и выполните:

```powershell
# Установить пароль для текущей сессии
$env:EMAIL_PASSWORD = "ваш_пароль"

# Или установить постоянную переменную окружения для пользователя
[System.Environment]::SetEnvironmentVariable('EMAIL_PASSWORD', 'ваш_пароль', 'User')
```

После установки постоянной переменной перезапустите веб-сервер.

### Способ 2: Через командную строку (Windows)

Откройте командную строку (cmd) и выполните:

```cmd
set EMAIL_PASSWORD=ваш_пароль
```

### Способ 3: Через start_web.py (временно для теста)

Можно временно добавить в начало `start_web.py`:

```python
import os
os.environ['EMAIL_PASSWORD'] = 'ваш_пароль'
```

**⚠️ ВНИМАНИЕ:** Не храните пароль в коде! Используйте переменные окружения.

## Проверка работы

1. Сгенерируйте отчет через веб-интерфейс
2. Проверьте папку загрузок браузера - файл должен быть там
3. Проверьте почту 2728941@list.ru - должно прийти письмо с вложением

## Что делать, если email не отправляется

1. Проверьте, что пароль установлен: `echo %EMAIL_PASSWORD%` (в cmd) или `$env:EMAIL_PASSWORD` (в PowerShell)
2. Проверьте логи в `work_data/logs/app.log` - там будут детали ошибок
3. Убедитесь, что пароль правильный для почты 2728941@list.ru
4. Проверьте доступность интернета

## Безопасность

- Пароль хранится только в переменных окружения, не в коде
- Если пароль не установлен, генерация отчета все равно работает (email просто не отправляется)
- В логах НЕ сохраняется пароль

